# [ week2 ] 가상화

<details>
<summary>코드 가상화와 일반적인 가상화의 차이에 대해서 최대한 설명하시오.</summary>

```
코드 가상화는 애플리케이션의 명령어를 중간 단계를 거쳐 실행하는 것으로, 
애플리케이션이 원래의 플랫폼에서 직접 실행되지 않고 가상 머신 또는 인터프리터를 통해 실행됩니다.

반면에, 일반적인 가상화는 하이퍼바이저가 호스트 시스템 위에서 여러 개의 게스트 운영 체제를 실행시키는 것을 의미합니다.
이 경우에는 각 운영 체제는 독립적인 가상 머신으로써 운영되며, 각각의 운영 체제는 하드웨어 리소스를 공유하거나 분할하여 사용합니다.

따라서 코드 가상화는 애플리케이션 레벨에서 동작하며, 일반적인 가상화는 하드웨어 레벨에서 작동합니다.
```

</details>



<details>
<summary>리눅스를 가상화 서버에 올릴 때 어떤 점을 유의해야 할지?</summary>

```
리눅스를 가상화 서버에 올릴 때 주의해야 할 점은 몇 가지 있습니다. 
먼저, 호스트 시스템의 하드웨어 호환성을 확인해야 합니다. 
물리적 서버와 가상화 플랫폼 간의 호환성을 고려해야 하며, 리눅스 게스트 운영 체제가 가상화 플랫폼과 호환되는지도 확인해야 합니다. 
이때 가상화 플랫폼의 지원하는 게스트 운영 체제 목록을 확인하여 파악할 수 있습니다. 
또한, 리소스 할당 및 관리를 적절히 구성하여 가상 머신의 성능을 최적화하고 보안을 유지하기 위해 적절한 방화벽과 보안 설정을 구성해야 합니다.
```

</details>



<details>
<summary>리눅스에서 가상화를 어떻게 구현할 수 있는지 설명하시오.</summary>

```
리눅스에서 가상화는 주로 컨테이너 가상화와 하이퍼바이저 가상화 두 가지 방식으로 이뤄집니다. 

컨테이너 가상화는 응용 프로그램을 격리된 환경으로 패키지화하여 실행하는 것으로, 
Docker나 Podman과 같은 도구를 사용합니다. 

반면에 하이퍼바이저 가상화는 호스트 시스템 위에 여러 개의 독립적인 가상 머신을 실행하는 것으로, 
KVM이나 Xen과 같은 솔루션을 통해 구현됩니다. 

각 방식은 다른 용도와 장단점을 가지고 있으며, 환경과 요구 사항에 따라 선택됩니다.
```

```
리눅스에서 가상화를 구현하는 주요 방법 중 두 가지는 컨테이너 가상화와 하이퍼바이저 가상화입니다. 각각에 대해 설명해보겠습니다.

1. 컨테이너 가상화:
- 컨테이너 가상화는 호스트 운영 체제 커널을 공유하면서 격리된 환경을 제공합니다.
- 주로 Docker, LXC, Podman 등과 같은 컨테이너 관리 도구를 사용하여 구현됩니다.
- 컨테이너는 필요한 응용 프로그램과 해당 종속성을 패키지화하고 실행할 수 있는 경량 가상 환경을 제공합니다.
- 각 컨테이너는 호스트 시스템에서 프로세스로 실행되며, 리소스 사용량을 최적화하여 높은 이식성과 성능을 제공합니다.

2. 하이퍼바이저 가상화:
- 하이퍼바이저는 호스트 시스템 위에 여러 개의 게스트 운영 체제를 실행하는 소프트웨어 계층입니다.
- 주로 KVM, Xen, VMware 등과 같은 하이퍼바이저를 사용하여 구현됩니다.
- 각 게스트 운영 체제는 독립적인 가상 머신(VM)으로 실행되며, 각 VM은 자체 운영 체제와 애플리케이션을 실행할 수 있습니다.
- 하이퍼바이저는 각 VM의 리소스를 관리하고 호스트 시스템 리소스를 효율적으로 할당하여 다중 테넌시를 지원합니다.

이러한 가상화 기술은 리눅스 시스템에서 다양한 용도로 활용됩니다. 선택하는 가상화 방법은 요구 사항과 환경에 따라 다를 수 있으며, 각각의 장단점을 고려하여 결정해야 합니다.
```

</details>



<details>
<summary>써본 것 중에 어떤 가상화 하이퍼바이저가 어떤 서비스에서 좋았는지 ?</summary>

```
저의 경험에 따르면, VMware의 ESXi 하이퍼바이저는 기업 환경에서 매우 우수한 성능을 발휘했습니다. 
대규모 데이터 센터나 기업 내부 인프라에서 가상화를 구현할 때 안정성과 확장성 면에서 우수한 선택이었습니다. 
또한 VMware의 관리 도구와 다양한 기능들이 가상 환경을 관리하고 모니터링하는 데 큰 도움이 되었습니다. 
VMware의 가상화 솔루션은 다양한 서비스 및 업무 부하를 처리하면서 안정성과 성능을 유지하는 데 탁월한 선택지입니다.
```

+) ESXi 하이퍼바이저란? <br>
VMware ESXi는 VMware사의 Type-1 하이퍼바이저입니다. 하이퍼바이저는 호스트 시스템에서 여러 개의 가상 머신(VM)을 실행하는 소프트웨어입니다. ESXi는 직접적으로 하드웨어 위에 설치되어 가상화를 수행하는데, 이는 호스트 운영 체제와는 분리되어 독립적으로 동작합니다. 이렇게 함으로써, ESXi는 가상 머신을 안정적으로 실행하고 관리할 수 있게 해줍니다. 기업 환경에서 대규모 가상화를 구현할 때 널리 사용되며, 안정성과 성능 면에서 뛰어난 평가를 받고 있습니다.

</details>



<details>
<summary>lguest에 대해서 아는지 물어본다.</summary>

```
lguest는 리눅스 커널의 일부로 포함되어 있으며, 간단한 가상화 솔루션으로 알고 있습니다. 
이는 리눅스 커널에서 직접 작동하는 가벼운 하이퍼바이저로, 커널 공간 내에서 게스트 운영 체제를 실행할 수 있습니다. 
lguest는 보통 임베디드 시스템이나 테스트 목적으로 사용됩니다. 
또한, 간단한 형태의 가상화를 제공하면서도 리눅스 커널에 대한 직접적인 액세스를 가능케 합니다. 
하지만, 현대의 가상화 기술에 비해 기능이 제한적이며, 주로 교육이나 연구 목적으로 사용됩니다.
```

+) 하이퍼바이저란? <br>
하이퍼바이저는 컴퓨터 하드웨어에서 여러 개의 가상 머신(VM)을 실행하는 소프트웨어입니다. 이는 호스트 시스템에서 독립적으로 작동하며, 각 VM은 독립적인 운영 체제와 응용 프로그램을 실행할 수 있습니다. 하이퍼바이저는 가상 머신 간의 리소스 공유와 관리를 담당하며, 이를 통해 여러 개의 운영 체제를 단일 하드웨어 플랫폼에서 동시에 실행할 수 있습니다. 이는 서버 가상화, 클라우드 컴퓨팅, 테스트 및 개발 환경 등 다양한 용도로 활용됩니다. 종류에는 Type-1 하이퍼바이저(네이티브 또는 베어메탈)와 Type-2 하이퍼바이저(호스트형)가 있으며, 각각은 다른 방식으로 하드웨어 가상화를 구현합니다.

+) Type-1 하이퍼바이저(네이티브 또는 베어메탈)란? <br> - Type-1 하이퍼바이저는 호스트 시스템의 하드웨어 바로 위에서 직접 실행됩니다. <br> - 호스트 운영 체제가 없이 바로 하이퍼바이저가 하드웨어를 제어하고 VM을 관리합니다. <br> - 이는 더 높은 성능과 효율성을 제공하며, 주로 서버 가상화 환경에서 사용됩니다. <br> - 대표적인 Type-1 하이퍼바이저로는 VMware ESXi, Microsoft Hyper-V Server, KVM 등이 있습니다.

+) Type-2 하이퍼바이저(호스트형)란? <br> - Type-2 하이퍼바이저는 호스트 운영 체제 위에서 실행됩니다. <br> - 호스트 운영 체제는 일반적으로 데스크톱이나 서버 운영 체제이며, 하이퍼바이저는 이 운영 체제의 일부로서 실행됩니다. <br> - 사용자는 호스트 운영 체제를 통해 하이퍼바이저를 설치하고 관리합니다. <br> - 이는 더 간단하고 사용자 친화적이지만, 성능 면에서 Type-1에 비해 약간 떨어질 수 있습니다. <br> - 대표적인 Type-2 하이퍼바이저로는 VMware Workstation, Oracle VirtualBox, Parallels Desktop 등이 있습니다.

</details>



<details>
<summary>리눅스 가상화에서 반가상화 드라이버는 무엇인지 설명하시오.</summary>

```
반가상화 드라이버는 가상 머신 내에서 게스트 운영 체제와 호스트 운영 체제 간의 통신을 도와주는 소프트웨어입니다. 
이 드라이버는 게스트 운영 체제에서 하드웨어에 직접 액세스하지 않고, 대신 호스트 운영 체제를 통해 하드웨어 리소스에 접근합니다. 
이를 통해 게스트 운영 체제는 실제 하드웨어를 가상화된 형태로 사용할 수 있습니다. 
주요 반가상화 드라이버로는 Xen의 XenBus, VMware의 vmxnet 등이 있으며, 
이들은 게스트 운영 체제와 호스트 운영 체제 간의 효율적인 통신을 지원하여 가상화 성능을 향상시킵니다.
```

</details>



<details>
<summary>리눅스 가상화에서 링 보호 개념이 무엇인지 설명하시오.</summary>

```
링 보호(Ring Protection)는 리눅스 가상화에서 사용되는 보안 개념 중 하나입니다. 이는 컴퓨터 시스템에서 사용자와 운영 체제 간의 권한을 격리하는 메커니즘으로, 다양한 보호 영역이 "링"이라고 불리는 권한 수준에 할당됩니다. 일반적으로 0부터 3까지의 숫자로 표현되며, 0이 가장 높은 권한을 가지고 있고, 3이 가장 낮은 권한을 가집니다. 

리눅스 시스템에서는 링 0이 커널 모드로, 링 3이 사용자 모드로 할당됩니다. 링 0에서는 시스템 전반에 대한 완전한 제어권이 주어지며, 커널은 시스템 자원에 직접 액세스할 수 있습니다. 반면에 링 3에서는 사용자 프로세스가 실행되며, 제한된 시스템 자원에만 접근할 수 있습니다. 

가상화에서는 호스트 운영 체제가 링 0에서 실행되고, 게스트 운영 체제가 링 3에서 실행됩니다. 이것은 호스트 운영 체제가 게스트 운영 체제의 동작을 제어하고 보호할 수 있도록 합니다. 이러한 링 보호 메커니즘은 시스템의 안전성과 보안을 유지하기 위해 중요한 역할을 합니다.
```

</details>


<details>
<summary>가상화 구현 시에 네트워크는 어떻게 사용 가능한지, 가상화 구현 시에 storage 는 어떻게 사용 가능한지?</summary>

```
가상화 구현 시에 네트워크는 호스트 컴퓨터의 네트워크와 연결하여 사용할 수 있습니다. 예를 들어, VMware나 VirtualBox 같은 가상화 소프트웨어를 사용할 때, 사용자는 각 가상 머신에 가상 네트워크 어댑터를 할당할 수 있습니다. 이 가상 네트워크 어댑터는 호스트 컴퓨터의 실제 네트워크 카드와 연결되어 외부 네트워크와 통신할 수 있습니다. 예를 들어, 가상 머신에서 웹 브라우징을 하거나 파일을 다운로드하는 등의 작업을 수행할 때 이 가상 네트워크를 통해 인터넷에 접속할 수 있습니다.

가상화 구현 시에 스토리지(저장소)는 다양한 방식으로 사용할 수 있습니다. 예를 들어, 가상화 소프트웨어는 각 가상 머신에 가상 디스크 이미지를 할당할 수 있습니다. 이 가상 디스크 이미지는 호스트 컴퓨터의 파일 시스템에 저장되며, 각 가상 머신은 이 가상 디스크 이미지를 자신의 하드 디스크로 사용할 수 있습니다. 또한, 네트워크 스토리지를 사용하여 외부 저장소에 접근할 수도 있습니다. 이렇게 하면 가상 머신은 네트워크를 통해 외부 저장소에 저장된 데이터에 접근할 수 있습니다.
```

</details>



<details>
<summary>가상화의 장단점?</summary>

```
가상화의 장점은 자원을 효율적으로 활용하고, 이식성이 뛰어나며, 유연하고 안정적인 환경을 제공한다는 점입니다.
 그러나 성능 손실과 관리 복잡성, 호환성 문제, 보안 위협, 그리고 라이센스 비용이 단점으로 작용할 수 있습니다.
```

```
가상화의 장점과 단점은 다음과 같습니다:

- 장점
1. 자원의 효율적인 활용: 가상화를 통해 하나의 물리적 서버에서 여러 개의 가상 머신을 운영할 수 있어, 자원을 효율적으로 활용할 수 있습니다.
2. 높은 이식성: 가상 머신은 하드웨어와 독립적으로 구동되므로, 서로 다른 환경에서 쉽게 이식될 수 있습니다.
3. 유연성: 가상 머신은 필요에 따라 쉽게 생성, 삭제, 확장할 수 있어서 비즈니스 요구에 빠르게 대응할 수 있습니다.
4. 안정성 및 격리: 각각의 가상 머신은 독립된 환경에서 실행되므로, 하나의 가상 머신에 문제가 발생해도 다른 가상 머신에 영향을 주지 않습니다.
5. 테스트 및 개발 용이성: 가상 환경에서는 실험, 테스트, 개발 작업을 위한 샌드박스 환경을 쉽게 구축할 수 있습니다.

- 단점
1. 성능 손실: 하이퍼바이저를 통해 가상화된 환경에서는 물리적 서버에서 직접 실행되는 것보다 약간의 성능 손실이 발생할 수 있습니다.
2. 관리 및 복잡성: 가상 머신의 관리와 모니터링, 네트워크 구성 등을 위한 추가적인 작업이 필요하여 관리가 복잡할 수 있습니다.
3. 호환성 문제: 일부 하드웨어나 소프트웨어는 가상화 환경에서 정상적으로 작동하지 않을 수 있으며, 호스트 운영 체제와 게스트 운영 체제 간의 호환성 문제가 발생할 수도 있습니다.
4. 보안 위협: 가상 머신의 취약점이 악용될 경우, 여러 개의 시스템이 한꺼번에 위험에 노출될 수 있습니다.
5. 라이센스 비용: 일부 상용 가상화 솔루션은 라이센스 비용이 발생할 수 있으며, 대규모 가상화 구현 시에는 이 비용이 상당할 수 있습니다.
```

</details>



<details>
<summary>가상화 구현 시 물리 서버에 비해서 성능을 (이론적으로) 어느 정도까지 뽑아낼 수 있는지 ? 직접 작업하였다면 얼마까지 뽑아 보았는지 ? 어떠한 방법을 사용해서 그렇게 성능을 올렸는지?</summary>

```
가상화 구현 시에는 일반적으로 물리 서버에 비해 성능이 소폭 감소할 수 있습니다. 그러나 현대의 하이퍼바이저 및 가상화 기술의 발전으로 이러한 성능 감소는 매우 낮아졌습니다. 이론적으로는 대부분의 워크로드에서 물리 서버와 유사한 성능을 달성할 수 있습니다.

제 경험상, 실제로는 대부분의 워크로드에서 물리 서버와 유사한 성능을 가상 환경에서도 달성할 수 있었습니다. 이를 위해 우선적으로 가상 머신에 할당된 리소스(프로세서, 메모리, 저장소 등)를 적절하게 조정하고 최적화했습니다. 또한 가상화 플랫폼의 설정을 최적화하고, 호스트 시스템의 리소스 관리 및 모니터링을 신중하게 수행하여 성능을 향상시켰습니다. 특히 CPU 스케줄링 및 메모리 관리를 최적화하는 것이 중요하며, 디스크 I/O 성능을 향상시키기 위해 스토리지 가상화 기술을 적용하기도 했습니다.

결론적으로, 적절한 구성과 최적화를 통해 대부분의 경우에 가상화된 환경에서도 물리 서버와 유사한 성능을 달성할 수 있다는 것을 경험했습니다.
```

</details>



<details>
<summary>Full virtualization(전가상화)과 Para-virtualization(반가상화)을 비교 설명하시오.</summary>

```
전가상화(Full virtualization)와 반가상화(Para-virtualization)는 가상화 기술의 두 가지 주요 접근 방식입니다.

1. 전가상화(Full virtualization):
- 전가상화는 가상 머신이 호스트 시스템에서 실행되는 동안 게스트 운영 체제가 실제 하드웨어를 가상으로 모사합니다.
- 이를 위해 하이퍼바이저가 하드웨어 추상화를 제공하여 게스트 운영 체제가 하드웨어에 직접 액세스하는 것처럼 보이도록 합니다.
- 전가상화를 사용하면 호스트와 게스트 간에 수정할 필요 없이 기존의 운영 체제를 가상 머신에서 실행할 수 있습니다.
- 대표적인 예로는 VMware, Hyper-V, Xen 등이 있습니다.

2. 반가상화(Para-virtualization):
- 반가상화는 전가상화와 달리 게스트 운영 체제가 실제 하드웨어를 직접 모사하지 않고, 하이퍼바이저와 협력하여 실행됩니다.
- 이를 위해 게스트 운영 체제는 하이퍼바이저가 제공하는 인터페이스를 사용하여 하드웨어에 액세스합니다.
- 따라서 게스트 운영 체제는 수정되어야 하며, 반가상화 드라이버를 설치하여 하이퍼바이저와 효율적으로 통신합니다.
- 반가상화를 사용하면 성능을 향상시킬 수 있지만, 게스트 운영 체제에 대한 변경이 필요합니다.
- 대표적인 예로는 Xen과 같은 하이퍼바이저가 있으며, Xen은 XenBus와 같은 반가상화 드라이버를 제공합니다.

요약하면, 전가상화는 게스트 운영 체제가 수정되지 않고 기존의 운영 체제를 가상 머신에서 실행하는 반면, 반가상화는 게스트 운영 체제가 하이퍼바이저와 협력하여 실행되며 수정이 필요합니다.
```

</details>



<details>
<summary>SAN, NAS, DAS의 차이</summary>

```
SAN은 네트워크를 통해 여러 대의 서버가 공유하는 블록 기반의 스토리지를 제공합니다. 이는 데이터를 블록 단위로 저장하고 서버 간에 공유할 수 있게 해줍니다. 

NAS는 독립적인 파일 서버로서 네트워크를 통해 파일 기반의 스토리지를 공유합니다. 각각의 파일은 NAS 장치에서 관리되며, NFS나 SMB/CIFS와 같은 프로토콜을 통해 파일에 액세스할 수 있습니다. 

반면 DAS는 서버에 직접 연결되는 스토리지이며, 일반적으로 내장형 또는 외장형 하드 드라이브로 제공됩니다. DAS는 각 서버에 대해 별도의 스토리지를 제공하므로 데이터 액세스가 빠르고 단순하며 비용 효율적입니다.
```

```
SAN (Storage Area Network), NAS (Network Attached Storage), DAS (Direct Attached Storage)은 모두 데이터 저장을 위한 다른 형태의 스토리지 시스템입니다.

1. SAN (Storage Area Network):
- SAN은 고성능 네트워크를 통해 여러 대의 서버에 공유되는 스토리지 자원을 제공합니다.
- SAN은 주로 블록 기반의 스토리지를 사용하며, Fibre Channel이나 iSCSI와 같은 프로토콜을 사용하여 서버와 스토리지 간의 통신을 관리합니다.
- SAN은 대규모 데이터 센터나 엔터프라이즈 환경에서 사용되며, 고성능 및 안정성이 중요한 경우에 적합합니다.

2. NAS (Network Attached Storage):
- NAS는 네트워크를 통해 연결되는 독립적인 파일 서버 형태의 스토리지 시스템입니다.
- NAS는 주로 파일 기반의 스토리지를 사용하며, NFS나 SMB/CIFS와 같은 프로토콜을 사용하여 파일 공유와 데이터 액세스를 관리합니다.
- NAS는 간단한 설정과 유연한 확장성을 제공하며, 파일 공유 및 백업 용도로 주로 사용됩니다.

3. DAS (Direct Attached Storage):
- DAS는 서버에 직접 연결되는 스토리지 시스템으로, 서버와 스토리지 간에 직접적인 연결이 이루어집니다.
- DAS는 주로 서버 내부에 탑재되는 하드 디스크나 외부에 연결되는 스토리지 어레이를 의미합니다.
- DAS는 단순하고 비용 효율적이며, 소규모 환경이나 요구 사항이 간단한 경우에 적합합니다.

간단히 말해, SAN은 블록 기반의 스토리지를 네트워크를 통해 제공하고, NAS는 파일 기반의 스토리지를 네트워크를 통해 제공하며, DAS는 서버에 직접 연결되는 스토리지입니다.
```

</details>


